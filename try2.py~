#!/usr/bin/env python
# coding: utf-8
from xml.etree import ElementTree
from lxml import etree

if __name__ == '__main__':

	province=[]
	province_id=[]
	city=[]
	city_id=[]
#	infile=open('config.xml','r')
#	data=infile.read()
#	page = etree.XML(data)
#	ps = page.xpath(".//Province/Pcode")

#	for p in ps:
#		print p.xpath('string(.)') + '\n'
#	a=0

	tree = ElementTree.parse('ProvinceCityCode.xml')
	root = tree.getroot()
	for node in tree.findall('.//Province/Pname'):
		 province.append(node.text.encode(utf-8))
	for node in tree.findall('.//Province/Pcode'):
		 province_id.append(node.text)
	for child in root:
		temp=[]
		for node in child.findall('Cities/City/Cname'):
			temp.append(node.text.encode(utf-8))
		city.append(temp)
	for child in root:
		temp=[]
		for node in child.findall('Cities/City/Ccode'):
			temp.append(node.text)
		city_id.append(temp)
	a=province.index("安徽")




#	province=[]
#	province_id=[]
#	city=[[]]
#	city_id=[[]]
#	infile=open('data.txt','r').read()
#	lines=str.split(infile,'\n')
#	province=str.split(lines[0], ' ')
#	province_id=str.split(lines[1], ' ')
#	a=province.index("省/直辖市")
#	city[0]=str.split(lines[2], ' ')
#	city_id[0]=str.split(lines[3], ' ')
#	for i in range(4,76):
#		if i%2==0:
#			print i
#			city.append(str.split(lines[i], ' '))
#		else:
#			city_id.append(str.split(lines[i], ' '))
#	outfile=open('config.xml','w')
#	outfile.write('<?xml version="1.0" encoding="UTF-8"?>'+'\n')
#	outfile.write('<Provinces>'+'\n')
#	for i in range(len(province)):
#		outfile.write('<Province>'+'\n')
#		outfile.write('	'+'<Pcode>'+province_id[i]+'</Pcode>'+'\n')
#		outfile.write('	'+'<Pname>'+province[i]+'</Pname>'+'\n')
#		outfile.write('	'+'<Cities>'+'\n')
#		for j in range(len(city[i])):
#			outfile.write('		'+'<City>'+'\n')
#			outfile.write('			'+'<Ccode>'+city_id[i][j]+'</Ccode>'+'\n')
#			outfile.write('			'+'<Cname>'+city[i][j]+'</Cname>'+'\n')
#			outfile.write('		'+'</City>'+'\n')
#		outfile.write('	'+'</Cities>'+'\n')
#		outfile.write('</Province>'+'\n'+'\n')
#	outfile.write('</Provinces>'+'\n')
##	outfile.close()
